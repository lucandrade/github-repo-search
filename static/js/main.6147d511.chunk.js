(this["webpackJsonpgithub-repo-search"]=this["webpackJsonpgithub-repo-search"]||[]).push([[0],{16:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(3),l=a.n(u),s=a(4),i=a(2),m=a(15),f=[{value:"",label:"Best Match"},{value:"stars",label:"Stars"},{value:"forks",label:"Forks"}],d=[{value:"desc",label:"Descending"},{value:"asc",label:"Ascending"}],b=a.n(m).a.create({baseURL:"https://api.github.com/search/repositories"}),p=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,n,c,o,u,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,r=t.sort,n=t.order,c=s.length>1&&void 0!==s[1]?s[1]:1,e.next=4,b.get("",{params:{per_page:20,q:a,sort:r,order:n,page:c}});case 4:if(o=e.sent,!(u=o.data)||!u.items){e.next=8;break}return e.abrupt("return",u);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var v=n.a.forwardRef((function(e,t){var a=e.query,c=e.disabled,o=e.onSearch,u=Object(r.useState)(a),l=Object(i.a)(u,2),s=l[0],m=l[1],f=Object(r.useRef)(!0);return Object(r.useEffect)((function(){var e=function(e){191===e.keyCode&&t.current&&(t.current.focus(),e.preventDefault())};return document.body.addEventListener("keydown",e),function(){return document.body.removeEventListener("keydown",e)}}),[t]),Object(r.useEffect)((function(){if(!f.current){var e=setTimeout((function(){return o(s)}),1e3);return function(){return clearTimeout(e)}}f.current=!1}),[s,o]),n.a.createElement("div",{className:"form-input search"},n.a.createElement("label",{htmlFor:"search",disabled:c},"Search"),n.a.createElement("input",{ref:t,disabled:c,type:"text",id:"search",value:s,onChange:function(e){return m(e.target.value)},placeholder:'Type "/"'}))}));function h(e){var t=e.id,a=e.disabled,r=e.label,c=e.options,o=e.onSelect;return n.a.createElement("div",{className:"form-input"},n.a.createElement("label",{disabled:a,htmlFor:t},r),n.a.createElement("select",{id:t,disabled:a,onChange:function(e){return o(e.target.value)}},c.map((function(e){var t=e.value,a=e.label;return n.a.createElement("option",{key:"".concat(t,"-").concat(a),value:t},a)}))))}function E(e){var t=e.disabled,a=e.onSearch,c=Object(r.useState)(""),o=Object(i.a)(c,2),u=o[0],l=o[1],s=Object(r.useState)(f[0].value),m=Object(i.a)(s,2),b=m[0],p=m[1],E=Object(r.useState)(d[0].value),g=Object(i.a)(E,2),O=g[0],j=g[1],k=Object(r.useRef)(!0),S=Object(r.createRef)();Object(r.useEffect)((function(){k.current?k.current=!1:a({query:u,sort:b,order:O})}),[k,u,b,O,a]);return n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(S.current.value)}},n.a.createElement(v,{ref:S,disabled:t,query:u,onSearch:l}),n.a.createElement(h,{id:"sort",label:"Sort",disabled:t,options:f,onSelect:p}),n.a.createElement(h,{id:"order",label:"Order",disabled:t,options:d,onSelect:j}))}function g(e){var t=e.stars,a=e.forks,r=e.avatarUrl,c=e.url,o=e.name,u=e.description;return n.a.createElement("div",{className:"item"},n.a.createElement("div",{className:"image"},n.a.createElement("img",{src:r,alt:"Avatar"})),n.a.createElement("div",{className:"details"},n.a.createElement("a",{href:c,rel:"noopener noreferrer",target:"_blank",className:"title"},o),n.a.createElement("span",null,"Stars: ",t),n.a.createElement("span",null,"Forks: ",a),n.a.createElement("p",null,u)))}function O(e){var t=e.items,a=void 0===t?[]:t,r=e.total_count,n=r>1e3?1e3:r;return{repos:a.map((function(e){return{name:e.name,description:e.description,url:e.html_url,avatarUrl:e.owner&&e.owner.avatar_url?e.owner.avatar_url:null,stars:e.stargazers_count,forks:e.forks}})),pages:Math.ceil(n/20)}}var j=Math.floor(4.5);function k(e){var t=e.pages,a=e.current,r=e.onChange;if(t<1)return null;var c,o,u=[],l=!1;t<9?(c=1,o=t):a-j<1?o=(c=1)+9-1:a+j>t?(c=t-9,o=t):o=(c=a-j)+9-1,a-j>1&&(u.push(n.a.createElement("li",{key:1,onClick:function(){return 1!==a&&r(1)},className:"".concat(1===a?"active":"")},"1...")),c++),a+j<t&&(l=!0,o--);for(var s=function(e){u.push(n.a.createElement("li",{key:e,onClick:function(){return a!==e&&r(e)},className:"".concat(a===e?"active":"")},e))},i=c;i<=o;i+=1)s(i);return l&&u.push(n.a.createElement("li",{key:t,onClick:function(){return a!==t&&r(t)},className:"".concat(a===t?"active":"")},"...",t)),n.a.createElement("ul",{className:"pagination"},u)}function S(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(1),u=Object(i.a)(o,2),m=u[0],f=u[1],d=Object(r.useState)([]),b=Object(i.a)(d,2),v=b[0],h=b[1],j=Object(r.useState)(!1),S=Object(i.a)(j,2),y=S[0],w=S[1],N=Object(r.useState)(!1),x=Object(i.a)(N,2),C=x[0],q=x[1],_=Object(r.useState)({}),R=Object(i.a)(_,2),F=R[0],L=R[1];return Object(r.useEffect)((function(){F.query&&f(1)}),[F]),Object(r.useEffect)((function(){F.query&&function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),q(!1),e.prev=2,e.t0=O,e.next=6,p(F,m);case 6:e.t1=e.sent,t=(0,e.t0)(e.t1),a=t.repos,r=t.pages,c(r),h(a),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(2),q(!0);case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}()()}),[F,m]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"app"},n.a.createElement("h1",null,"GitHub Repository Search"),n.a.createElement(E,{disabled:y,onSearch:L}),y&&n.a.createElement("div",{className:"loading"},"Loading"),C&&n.a.createElement("div",{className:"loading"},"Error fetching github repositories"),!y&&n.a.createElement(k,{pages:a,current:m,onChange:f}),n.a.createElement("div",{className:"list"},v.map((function(e){return n.a.createElement(g,Object.assign({key:e.url},e))})))))}a(39);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.6147d511.chunk.js.map